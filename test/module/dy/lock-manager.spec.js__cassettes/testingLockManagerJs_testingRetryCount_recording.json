[
  {
    "scope": "https://dynamodb.us-west-2.amazonaws.com:443",
    "method": "POST",
    "path": "/",
    "body": {
      "TableName": "lock-table-name",
      "Key": {
        "id": {
          "S": "lock-failure"
        }
      },
      "ConsistentRead": true
    },
    "status": 200,
    "response": {}
  },
  {
    "scope": "https://dynamodb.us-west-2.amazonaws.com:443",
    "method": "POST",
    "path": "/",
    "body": {
      "TableName": "lock-table-name",
      "Item": {
        "fencingToken": {
          "N": "1"
        },
        "leaseDurationMs": {
          "N": "10000"
        },
        "owner": {
          "S": "aws-sdk-wrap-lock-manager"
        },
        "guid": {
          "B": "Tl6aWRwQVEw4TErNaRegLOiqABr/BlQ6NBAlADydmURMVtEaXw3lPCpcap2J1PEGRAx46q6Z3JCjfTDH8xuQhw=="
        },
        "lockAcquiredTimeUnixMs": {
          "N": "1650651221000"
        },
        "id": {
          "S": "lock-failure"
        }
      },
      "ConditionExpression": "attribute_not_exists(#partitionKey)",
      "ExpressionAttributeNames": {
        "#partitionKey": "id"
      }
    },
    "status": 400,
    "response": {
      "__type": "com.amazonaws.dynamodb.v20120810#ConditionalCheckFailedException",
      "message": "The conditional request failed"
    }
  },
  {
    "scope": "https://dynamodb.us-west-2.amazonaws.com:443",
    "method": "POST",
    "path": "/",
    "body": {
      "TableName": "lock-table-name",
      "Key": {
        "id": {
          "S": "lock-failure"
        }
      },
      "ConsistentRead": true
    },
    "status": 200,
    "response": {}
  },
  {
    "scope": "https://dynamodb.us-west-2.amazonaws.com:443",
    "method": "POST",
    "path": "/",
    "body": {
      "TableName": "lock-table-name",
      "Item": {
        "fencingToken": {
          "N": "1"
        },
        "leaseDurationMs": {
          "N": "10000"
        },
        "owner": {
          "S": "aws-sdk-wrap-lock-manager"
        },
        "guid": {
          "B": "Tl6aWRwQVEw4TErNaRegLOiqABr/BlQ6NBAlADydmURMVtEaXw3lPCpcap2J1PEGRAx46q6Z3JCjfTDH8xuQhw=="
        },
        "lockAcquiredTimeUnixMs": {
          "N": "1650651221000"
        },
        "id": {
          "S": "lock-failure"
        }
      },
      "ConditionExpression": "attribute_not_exists(#partitionKey)",
      "ExpressionAttributeNames": {
        "#partitionKey": "id"
      }
    },
    "status": 200,
    "response": {}
  },
  {
    "scope": "https://dynamodb.us-west-2.amazonaws.com:443",
    "method": "POST",
    "path": "/",
    "body": {
      "TableName": "lock-table-name",
      "Item": {
        "id": {
          "S": "lock-failure"
        },
        "fencingToken": {
          "N": "1"
        },
        "leaseDurationMs": {
          "N": "1"
        },
        "owner": {
          "S": "aws-sdk-wrap-lock-manager"
        },
        "guid": {
          "B": "Tl6aWRwQVEw4TErNaRegLOiqABr/BlQ6NBAlADydmURMVtEaXw3lPCpcap2J1PEGRAx46q6Z3JCjfTDH8xuQhw=="
        },
        "lockAcquiredTimeUnixMs": {
          "N": "1650651221000"
        }
      },
      "ConditionExpression": "attribute_exists(#partitionKey) and guid = :guid",
      "ExpressionAttributeNames": {
        "#partitionKey": "id"
      },
      "ExpressionAttributeValues": {
        ":guid": {
          "B": "Tl6aWRwQVEw4TErNaRegLOiqABr/BlQ6NBAlADydmURMVtEaXw3lPCpcap2J1PEGRAx46q6Z3JCjfTDH8xuQhw=="
        }
      }
    },
    "status": 200,
    "response": {}
  }
]
